<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dividend: dividenda contract</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Dividend
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">dividenda contract</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga943a308f745ea7ddc590893803538b3b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dividenda.html#ga943a308f745ea7ddc590893803538b3b">roi_target_cap</a> { <a class="el" href="group__dividenda.html#ga943a308f745ea7ddc590893803538b3ba6cdecbcf3e967dc8d4f9b63ef3a598cb">ITERATION</a> =1
, <a class="el" href="group__dividenda.html#ga943a308f745ea7ddc590893803538b3ba4dd51ad73508d6fc83a502966779e48e">HORIZONTAL</a> =2
, <a class="el" href="group__dividenda.html#ga943a308f745ea7ddc590893803538b3ba1a88641fcd39f2ed3e58a18526e97138">VERTICAL</a> =3
 }</td></tr>
<tr class="memdesc:ga943a308f745ea7ddc590893803538b3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">1- iterative 2- horizontal 3- vertical  <a href="group__dividenda.html#ga943a308f745ea7ddc590893803538b3b">More...</a><br /></td></tr>
<tr class="separator:ga943a308f745ea7ddc590893803538b3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae73037b60d607b092243c1c540cca298"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dividenda.html#gae73037b60d607b092243c1c540cca298">upsert</a> (uint8_t <a class="el" href="dividend_8hpp.html#a7268b598ab179e53d216a4fad466e3e0">role_type</a>, name role_acct)</td></tr>
<tr class="memdesc:gae73037b60d607b092243c1c540cca298"><td class="mdescLeft">&#160;</td><td class="mdescRight">The table 'white_list' is used by the action to define the context for the proposal creation and voting (Its defines who is the proposer and the two voters along with storing temporalily vote(s) casted by a given voter on the current proposal (used only by the action 'proposalvote').  <a href="group__dividenda.html#gae73037b60d607b092243c1c540cca298">More...</a><br /></td></tr>
<tr class="separator:gae73037b60d607b092243c1c540cca298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacce48bb27083b2a7095ac5995d942386"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dividenda.html#gacce48bb27083b2a7095ac5995d942386">remove</a> (name role_acct)</td></tr>
<tr class="separator:gacce48bb27083b2a7095ac5995d942386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae8f732b20630f49ae24eae643575a868"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dividenda.html#gae8f732b20630f49ae24eae643575a868">dryrun</a> (name proposername)</td></tr>
<tr class="separator:gae8f732b20630f49ae24eae643575a868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b3f3058b4355ec24f1f252632e9dbff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dividenda.html#ga3b3f3058b4355ec24f1f252632e9dbff">proposalnew</a> (const name proposername, const name eosaccount, const uint8_t <a class="el" href="group__dividenda.html#ga943a308f745ea7ddc590893803538b3b">roi_target_cap</a>, const double period_percentage, const asset threshold, const uint32_t rates_left, const bool locked)</td></tr>
<tr class="separator:ga3b3f3058b4355ec24f1f252632e9dbff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga866a56d761bef2d9e3ceef36312d206e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dividenda.html#ga866a56d761bef2d9e3ceef36312d206e">proposalvote</a> (const name votername, const uint8_t vote)</td></tr>
<tr class="memdesc:ga866a56d761bef2d9e3ceef36312d206e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Note: Second vote (if also positive) will mint the new proposed nft. The proposal in that case will be erased with writing "lastaccepted" in the proposal eosaccount field. <br  />
 Before writing new nft the function <a class="el" href="group__dividenda.html#gadedd41689e8a0ba36e76ea4d190fb3ff">replay()</a> is called to process remaining iterations If proposal was not accepted is also erased with writing "lastrefused" in the proposal eosaccount field. <br  />
 There is not allowed (and verified) second voting for the same proposer.  <a href="group__dividenda.html#ga866a56d761bef2d9e3ceef36312d206e">More...</a><br /></td></tr>
<tr class="separator:ga866a56d761bef2d9e3ceef36312d206e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga368033d3f85105e7f320bbcb6ae7cdd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dividenda.html#ga368033d3f85105e7f320bbcb6ae7cdd9">propreset</a> (name proposername)</td></tr>
<tr class="memdesc:ga368033d3f85105e7f320bbcb6ae7cdd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The erased proposal will have written in the field eosaccount the text "erased". The nftkey in proposal record remains unchanged.  <a href="group__dividenda.html#ga368033d3f85105e7f320bbcb6ae7cdd9">More...</a><br /></td></tr>
<tr class="separator:ga368033d3f85105e7f320bbcb6ae7cdd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa17fa98f9f2391449daa3384b950ce11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dividenda.html#gaa17fa98f9f2391449daa3384b950ce11">removewhite</a> ()</td></tr>
<tr class="memdesc:gaa17fa98f9f2391449daa3384b950ce11"><td class="mdescLeft">&#160;</td><td class="mdescRight">This action should be considered to run only in testing or in case of administrative changes in OPTIONSDAO.  <a href="group__dividenda.html#gaa17fa98f9f2391449daa3384b950ce11">More...</a><br /></td></tr>
<tr class="separator:gaa17fa98f9f2391449daa3384b950ce11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabae1a299143796946bf268b68f44388e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dividenda.html#gabae1a299143796946bf268b68f44388e">regchown</a> (name userfrom, name userto, uint64_t nft_id)</td></tr>
<tr class="separator:gabae1a299143796946bf268b68f44388e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadedd41689e8a0ba36e76ea4d190fb3ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dividenda.html#gadedd41689e8a0ba36e76ea4d190fb3ff">replay</a> ()</td></tr>
<tr class="separator:gadedd41689e8a0ba36e76ea4d190fb3ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga264fd923644a529235c6547addcd8341"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dividenda.html#ga264fd923644a529235c6547addcd8341">dividcompute</a> ()</td></tr>
<tr class="separator:ga264fd923644a529235c6547addcd8341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a6e8b4dbf65e7d1c5421d8d3b67dcf2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dividenda.html#ga8a6e8b4dbf65e7d1c5421d8d3b67dcf2">unlocknft</a> (uint64_t nft_id)</td></tr>
<tr class="separator:ga8a6e8b4dbf65e7d1c5421d8d3b67dcf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66be7bbc6cc74c5d567dabb390f90868"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dividenda.html#ga66be7bbc6cc74c5d567dabb390f90868">query</a> (name eosaccount)</td></tr>
<tr class="separator:ga66be7bbc6cc74c5d567dabb390f90868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94a8ea42b42b5ff4ca34b9ecfcd8844f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dividenda.html#ga94a8ea42b42b5ff4ca34b9ecfcd8844f">notify_front</a> (uint8_t number)</td></tr>
<tr class="separator:ga94a8ea42b42b5ff4ca34b9ecfcd8844f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf93fbfd3f7c04f236c6636d4fb14c442"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dividenda.html#gaf93fbfd3f7c04f236c6636d4fb14c442">clearfront</a> ()</td></tr>
<tr class="separator:gaf93fbfd3f7c04f236c6636d4fb14c442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaadd58a2bd505eba3564c7483be1a6140"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dividenda.html#gaadd58a2bd505eba3564c7483be1a6140">version</a> ()</td></tr>
<tr class="separator:gaadd58a2bd505eba3564c7483be1a6140"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gace4c4f9f2558851dff4c7913d6c072b2"><td class="memItemLeft" align="right" valign="top">CONTRACT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dividenda.html#gace4c4f9f2558851dff4c7913d6c072b2">dividenda</a></td></tr>
<tr class="separator:gace4c4f9f2558851dff4c7913d6c072b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>dividenda contract</p>
<p>dividenda contract read profit cumulated on contract account coming from different sources. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga943a308f745ea7ddc590893803538b3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga943a308f745ea7ddc590893803538b3b">&#9670;&nbsp;</a></span>roi_target_cap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum uint8_t <a class="el" href="group__dividenda.html#ga943a308f745ea7ddc590893803538b3b">roi_target_cap</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>1- iterative 2- horizontal 3- vertical </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ga943a308f745ea7ddc590893803538b3ba6cdecbcf3e967dc8d4f9b63ef3a598cb"></a>ITERATION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ga943a308f745ea7ddc590893803538b3ba4dd51ad73508d6fc83a502966779e48e"></a>HORIZONTAL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ga943a308f745ea7ddc590893803538b3ba1a88641fcd39f2ed3e58a18526e97138"></a>VERTICAL&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf93fbfd3f7c04f236c6636d4fb14c442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf93fbfd3f7c04f236c6636d4fb14c442">&#9670;&nbsp;</a></span>clearfront()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dividenda::clearfront </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>clearfront function</p>
<p>Clearing content of notify_front. Called when new proposal is created. </p>

</div>
</div>
<a id="ga264fd923644a529235c6547addcd8341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga264fd923644a529235c6547addcd8341">&#9670;&nbsp;</a></span>dividcompute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dividenda::dividcompute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>dividcompute action</p>
<p>The wrapper for the <a class="el" href="group__dividenda.html#gadedd41689e8a0ba36e76ea4d190fb3ff">replay()</a> function allowing to call it as an action. </p>

</div>
</div>
<a id="gae8f732b20630f49ae24eae643575a868"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae8f732b20630f49ae24eae643575a868">&#9670;&nbsp;</a></span>dryrun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dividenda::dryrun </td>
          <td>(</td>
          <td class="paramtype">name&#160;</td>
          <td class="paramname"><em>proposername</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>dryrun action</p>
<p>This action perform analytics related to the dividend percentage only. The action is showing what is <br  />
 the total percentage of dividends paid in each iteration (it will be the same for each) with breakdown into categories (like iterative, horizontal, and vertical roi caps). Additionally, it showing cumulative percentage of dividends paid for each person as each person may have several nftxs.</p>
<p>All of this is counted on a basis of all active at this moment nft's. nft's with rates paid already paid (cap=1) or nft's completely paid due to total accrued above threshold value (cap=2) are not counted. Cap=3 founders nft's which are temporarily locked are counted as soon they will be paid again. <br  />
 Additional information on list of already fully paid nft's is displayed by the front-end.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">proposername</td><td>- account name of the proposer</td></tr>
    <tr><td class="paramdir"></td><td class="paramname">&lt;a</td><td>href="first name used by the bloks.io and eosstudio, second name used in the code"&gt;out<ul>
<li>ewstable table - displays cummulative percentage of active nft's on a basis of cap category</li>
<li>dryruns table - displays cumulative percentage of active nft's on a basis of each user nft's. <br  />
</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>required any VIP account listed on whitelist. <br  />
 </dd></dl>

</div>
</div>
<a id="ga94a8ea42b42b5ff4ca34b9ecfcd8844f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga94a8ea42b42b5ff4ca34b9ecfcd8844f">&#9670;&nbsp;</a></span>notify_front()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dividenda::notify_front </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>notify_front function</p>
<p>Used to transmit non-critical error messages and warnings to be interpreted by the front end. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">number</td><td>- one of the numeric const defined in <a class="el" href="dividend_8hpp.html">dividend.hpp</a>. Each time when notify_front is called the <br  />
 given number is added to the queue (a vector). The vector is read by the front end. The vector can be erased by the clearfront function called when new proposal is created. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3b3f3058b4355ec24f1f252632e9dbff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3b3f3058b4355ec24f1f252632e9dbff">&#9670;&nbsp;</a></span>proposalnew()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dividenda::proposalnew </td>
          <td>(</td>
          <td class="paramtype">const name&#160;</td>
          <td class="paramname"><em>proposername</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const name&#160;</td>
          <td class="paramname"><em>eosaccount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>roi_target_cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>period_percentage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const asset&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>rates_left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>locked</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>proposalnew action (proposal new)</p>
<p>Creates new proposal. The proposal record (if accepted) becomes a base to mint new nft. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proposer</td><td>- The account name of a person eligible to create new proposal. </td></tr>
    <tr><td class="paramname">eosaccount</td><td>- The account name of future owner of new proposed nft (investor or founder). <br  />
 </td></tr>
    <tr><td class="paramname">roi_target_cap</td><td>- Type of Dividend Policy (cap roi): 1- 2- 3- (above 3 not accepted). </td></tr>
    <tr><td class="paramname">period_percentage</td><td>- Pre-agreed percentage of weekly dividend which will be transfered to eosaccount. </td></tr>
    <tr><td class="paramname">threshold</td><td>- Upper limit for dividend payment ( if roi=1 threshold ignored, if roi=2 threshold cummulative, if roi=3 threshold for iteration). </td></tr>
    <tr><td class="paramname">rates_left</td><td>- Number of iteration dividend left to pay before this nft becomes inactive. (used only for roi=1, for roi=2 and roi=3 ignored - enter 0 or above). </td></tr>
    <tr><td class="paramname">locked</td><td>- Lock of payments (only for roi=3).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>requires proposer permission </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eosaccount</td><td>OPTION account used to receive dividends and for user identification </td></tr>
    <tr><td class="paramname">locked</td><td>lock dividends for selected new founders. Note: When unlock cannot be locked again. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga866a56d761bef2d9e3ceef36312d206e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga866a56d761bef2d9e3ceef36312d206e">&#9670;&nbsp;</a></span>proposalvote()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dividenda::proposalvote </td>
          <td>(</td>
          <td class="paramtype">const name&#160;</td>
          <td class="paramname"><em>votername</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>vote</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Note: Second vote (if also positive) will mint the new proposed nft. The proposal in that case will be erased with writing "lastaccepted" in the proposal eosaccount field. <br  />
 Before writing new nft the function <a class="el" href="group__dividenda.html#gadedd41689e8a0ba36e76ea4d190fb3ff">replay()</a> is called to process remaining iterations If proposal was not accepted is also erased with writing "lastrefused" in the proposal eosaccount field. <br  />
 There is not allowed (and verified) second voting for the same proposer. </p>
<p>proposalvote action.</p>
<p>Voting for acceptance or not) the new proposal. <br  />
 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">votername</td><td>- The voter name (must be white_list listed account with role_type 2 or 3, proposer not allowed). </td></tr>
    <tr><td class="paramname">vote</td><td>- The vote: 0 - ignored/no vote, 1 - no, 2 - yes/accept.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>requires voter permission </dd></dl>

</div>
</div>
<a id="ga368033d3f85105e7f320bbcb6ae7cdd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga368033d3f85105e7f320bbcb6ae7cdd9">&#9670;&nbsp;</a></span>propreset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dividenda::propreset </td>
          <td>(</td>
          <td class="paramtype">name&#160;</td>
          <td class="paramname"><em>proposername</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The erased proposal will have written in the field eosaccount the text "erased". The nftkey in proposal record remains unchanged. </p>
<p>propreset action.</p>
<p>Erase and withdraw active proposal</p>
<dl class="section pre"><dt>Precondition</dt><dd>requires proposer permission </dd></dl>

</div>
</div>
<a id="ga66be7bbc6cc74c5d567dabb390f90868"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga66be7bbc6cc74c5d567dabb390f90868">&#9670;&nbsp;</a></span>query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dividenda::query </td>
          <td>(</td>
          <td class="paramtype">name&#160;</td>
          <td class="paramname"><em>eosaccount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>query action (informative only - the action do not change any values)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eosaccount</td><td>- the account which we query. This account is returned from frontend wallet as an account of a person who currently is logged on. The function return the type of the account to notify_front where is used immediately by the front end to display a correct web page.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>permissions are the same like eosaccount parameter </dd></dl>

</div>
</div>
<a id="gabae1a299143796946bf268b68f44388e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabae1a299143796946bf268b68f44388e">&#9670;&nbsp;</a></span>regchown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dividenda::regchown </td>
          <td>(</td>
          <td class="paramtype">name&#160;</td>
          <td class="paramname"><em>userfrom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">name&#160;</td>
          <td class="paramname"><em>userto</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>nft_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>regchown action.</p>
<p>Changes nft ownership (nft transfer). Set number 2 in message table if nftx_id is not pointing nft belonging to userfrom. In that case the action regchown is ignored.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">userfrom</td><td>- original nft owner </td></tr>
    <tr><td class="paramname">userto</td><td>- receiver of the nft </td></tr>
    <tr><td class="paramname">nftx_id</td><td>- the nft key belonging to userfrom</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>requires userfrom permission. </dd></dl>

</div>
</div>
<a id="gacce48bb27083b2a7095ac5995d942386"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacce48bb27083b2a7095ac5995d942386">&#9670;&nbsp;</a></span>remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dividenda::remove </td>
          <td>(</td>
          <td class="paramtype">name&#160;</td>
          <td class="paramname"><em>role_acct</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>remove action</p>
<p>Removes row from the white_list table pointed by the parameter. This allows to enter a new row by the insert action with changed value..</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">role_acct</td><td>- record with this account name will be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>contract permission is required Note: This action has no entry from the frontend. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">role_acct</td><td>remove one item from white_list </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa17fa98f9f2391449daa3384b950ce11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa17fa98f9f2391449daa3384b950ce11">&#9670;&nbsp;</a></span>removewhite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dividenda::removewhite </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This action should be considered to run only in testing or in case of administrative changes in OPTIONSDAO. </p>
<p>removewhite action</p>
<p>Removes the white_list table.</p>
<dl class="section pre"><dt>Precondition</dt><dd>requires contract permission </dd></dl>

</div>
</div>
<a id="gadedd41689e8a0ba36e76ea4d190fb3ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadedd41689e8a0ba36e76ea4d190fb3ff">&#9670;&nbsp;</a></span>replay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dividenda::replay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>replay function</p>
<p>process dividend sharing for each iteration one by one except the current which is still collecting incoming profits. Set up number 1 in the message table if received current iteration number is 0, what is unlikely to happen.</p>
<dl class="section pre"><dt>Precondition</dt><dd>do not need any </dd></dl>

</div>
</div>
<a id="ga8a6e8b4dbf65e7d1c5421d8d3b67dcf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a6e8b4dbf65e7d1c5421d8d3b67dcf2">&#9670;&nbsp;</a></span>unlocknft()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dividenda::unlocknft </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>nft_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>unlocknftx action <br  />
</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nftx_id</td><td>- points nftx which will have removed lock. It must be founder owned nftx otherwise action is ignored.</td></tr>
  </table>
  </dd>
</dl>
<p>Removes lock (if any) on nft belonging to a founder. If applied to alredy unlocked nft, the action is ignored. In that case the number 3 is set in the message table. </p><dl class="section pre"><dt>Precondition</dt><dd>requires contract authorization </dd></dl>

</div>
</div>
<a id="gae73037b60d607b092243c1c540cca298"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae73037b60d607b092243c1c540cca298">&#9670;&nbsp;</a></span>upsert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dividenda::upsert </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>role_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">name&#160;</td>
          <td class="paramname"><em>role_acct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The table 'white_list' is used by the action to define the context for the proposal creation and voting (Its defines who is the proposer and the two voters along with storing temporalily vote(s) casted by a given voter on the current proposal (used only by the action 'proposalvote'). </p>
<p>upsert action (updated)</p>
<p>Creates VIP table defining proposer and voters. After filling up the table may be changed only as a whole table. Individual changes of rows are not allowed. This is assumed multisig to create the table.</p>
<p>Qparam[in] role_type - may be only: 1 for proposer, 2 for voter, 3 for another voter, more not accepted. Entering the same number twice is blocked. role_acct - corresponding account name of proposer or voters (depending on role type). This will be used to verify permissions on proposal operations performed by another actions.</p>
<dl class="section pre"><dt>Precondition</dt><dd>contract permission is required Note: This action has no entry from the frontend. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">role_acct</td><td>insert new item to white_list. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaadd58a2bd505eba3564c7483be1a6140"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaadd58a2bd505eba3564c7483be1a6140">&#9670;&nbsp;</a></span>version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>action version</p>
<p>breaks the action and display string with version number + current iteration number </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="gace4c4f9f2558851dff4c7913d6c072b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gace4c4f9f2558851dff4c7913d6c072b2">&#9670;&nbsp;</a></span>dividenda</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CONTRACT dividenda</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
